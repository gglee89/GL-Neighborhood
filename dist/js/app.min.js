var self=this,MapMarker=function(e,o,s){this.marker=e,this.name=o,this.position=s},PlaceItem=function(e){this.web_url=ko.observable(e.web_url),this.snippet=ko.observable(e.snippet),this.name=ko.observable(e.name),this.category=ko.observable(e.category),this.optional=ko.observable(e.optional),this.image=ko.observable(e.image),this.address=ko.observable(e.address)},PlaceViewModel=function(e){self.neighborhood=ko.observable(""),self.locationLat=ko.observable(""),self.locationLng=ko.observable(""),self.placeHeader=ko.observable(""),self.hasAddress=ko.observable(!0),self.hasImage=ko.observable(!0),self.isFilterVisible=ko.observable(!0),self.filter=ko.observable(""),self.recommendedPlaces=ko.observableArray([]),self.placeList=ko.observableArray(self.recommendedPlaces()),self.clickMarker=function(e){var o=$(window).height();875>o&&($("#menu").toggle("slide"),map.panTo(marker.getPosition())),markers.forEach(function(o){o.name===e.name()&&(google.maps.event.trigger(o.marker,"click"),map.panTo(o.position))})},self.filteredList=ko.computed(function(){var e,o=[],s=self.filter().toLowerCase();self.recommendedPlaces().forEach(function(a){e=a,-1==e.name().toLowerCase().indexOf(s)&&-1==e.category().toLowerCase().indexOf(s)||o.push(a)}),self.placeList(o)})};ko.applyBindings(new PlaceViewModel);var setMaxHeight=function(){var e=$(window).height(),o=$(".menu-places-list"),s=$("#search-bar").outerHeight(),a=$(".menu-places-header").outerHeight(),i=e-s-a;console.log("New max height: "+i),o.css({"max-height":i+"px"})},updateBackgroundColor=function(e,o){var s={"background-color":o};$(".menu-search-icon").css("background",""),e.css(s),$(".menu-places").css(s)},stringStartsWith=function(e,o){return e=e||"",o.length>e.length?!1:e.substring(0,o.length)===o};$(function(){setMaxHeight(),$(window).resize(function(){setMaxHeight(),window.setTimeout(function(){map.panTo(marker.getPosition())}),window.addEventListener("resize",function(){map.fitBounds(mapBounds),$("#map").height($(window).height())})}),$("#hamburger-top-menu").click(function(){$("#menu").toggle("slide")})});